<html>
<head>

<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>

<style>

body
{
 margin: 0 auto;
 width:100%;
 background:#aaaaaa;
}

p
{
 margin:0;
 font-family:"Arial",Georgia,sans-serif;
 color:white;
 text-align: center;
}

#wrapper
{
 width:900px;
 height:610px;
 margin: 0 auto;
 background: #bbbbbb;
 margin-top:25px;
}

#board
{
 float:left;
 margin: 0 auto;
 width:610px;
 height:610px;
 //background:#cccccc;
 //-webkit-transform: rotateY(0deg) rotateX(50deg) rotate(45deg);
 //-webkit-box-shadow: 3px 3px 5px 6px #ccc;
  //box-shadow: 0px 0px 10px 10px #cccccc; //   6px 6px 5px 5px #cccccc;
   
}

.locations-hor
{
 margin:0 auto;
 width:610px;
 height:80px;
 //background:purple;
}

.locations-vert
{
 float: left;
 width: 80px;
 height: 450px;
 //background:gray;
}

#top
{
 
}

#middle-hor
{
}

#left
{
 
}

#inside
{
 float:left;
 width: 450px;
 height: 450px;
 background-color: #994455;
}

#right
{
 
}

#bottom
{
}

.location_corner
{
 float:left;
 width:80px;
 height:80px;
 background-color:#556677; 
}

.location
{
 float:left;
 width:50px;
 height:80px;
 //border:1px solid #eeeeee;
}

.location:hover
{
 height:80px;
 width:50px;
 //border-left: 1px solid black;
 //border-right: 1px solid black;
 //border-bottom: 2px solid black;
 cursor:pointer;
 background-color:#000000;
}

.location_selected
{
 background-color: blue;
}

.location_vert
{
 width:50px;
 height:80px;
 margin-left:15px;
 //border:1px solid #eeeeee;
}

.location_vert:hover
{
 height:80px;
 width:50px;
 //border-left: 1px solid black;
 //border-right: 1px solid black;
 //border-bottom: 2px solid black;
 cursor:pointer;
 background-color:#000000;
}

.top
{
 transform: rotate(180deg);
-ms-transform: rotate(180deg); /* IE 9 */
-webkit-transform: rotate(180deg); /* Safari and Chrome */
-o-transform: rotate(180deg); /* Opera */
-moz-transform: rotate(180deg); /* Firefox */

}

.left
{
 transform: rotate(90deg);
-ms-transform: rotate(90deg); /* IE 9 */
-webkit-transform: rotate(90deg); /* Safari and Chrome */
-o-transform: rotate(90deg); /* Opera */
-moz-transform: rotate(90deg); /* Firefox */
}

.right
{
 transform: rotate(270deg);
-ms-transform: rotate(270deg); /* IE 9 */
-webkit-transform: rotate(270deg); /* Safari and Chrome */
-o-transform: rotate(270deg); /* Opera */
-moz-transform: rotate(270deg); /* Firefox */
}

.name_price
{
 margin-top:10px;
 width:50px;
 //background-color:#000000;
}

.build_space
{
 width:40px;
 height:20px;
 margin:0 auto;
 background-color:white;
 //-webkit-transform: rotateY(40deg) rotateX(-20deg);
}

.built_space_unused
{
 width:40px;
 height:20px;
 margin:0 auto;
} 

.houses_1
{
 height:20px;
 width:10px;
 background-color:#007744;
}

.houses_2
{
 height:20px;
 width:20px;
 background-color:#007744;
}

.houses_3
{
 height:20px;
 width:30px;
 background-color:#007744;
}

.houses_4
{
 height:20px;
 width:40px;
 background-color:#007744;
}

.hotel
{
 height:20px;
 width:40px;
 background-color:red;
}


.piece_space_1
{
 width:40px;
 height:20px;
 margin:0 auto;
 //background-color:GREEN;
 //background-image:url(images/toy02.png);
 background-size:30px 23px;
 background-repeat:no-repeat; 
 background-position:center;
 //-webkit-transform: rotateY(40deg) rotateX(50deg);
}

.piece_space_2
{
 position:absolute;
 width:40px;
 height:20px;
 //background-color:blue;
 margin-top:40px;
 margin-left:5px;
 background-size:30px 23px;
 background-repeat:no-repeat; 
 background-position:center;
 //-webkit-transform: rotateY(40deg) rotateX(50deg);
}

.piece_space_3
{
 position:absolute;
 width:40px;
 height:20px;
 //background-color:blue;
 margin-top:60px;
 margin-left:5px;
 background-size:30px 23px;
 background-repeat:no-repeat; 
 background-position:center;
 //-webkit-transform: rotateY(40deg) rotateX(50deg);
}

.piece_space_4
{
 position:absolute;
 width:40px;
 height:20px;
 //background-color:blue;
 margin-top:0px;
 margin-left:5px;
 background-size:30px 23px;
 background-repeat:no-repeat; 
 background-position:center;
 //-webkit-transform: rotateY(40deg) rotateX(50deg);
}

.corner_margin_adjust_piece_spaces
{
 margin-left:20px;
}

.piece1
{
 background-image:url(images/gear_wheel.png);
}

.piece2
{
 //background-color:green;
 background-image:url(images/lock.png);
}

.piece3
{
 background-image:url(images/pensil.png);
}

.piece4
{
 background-image:url(images/usb.png);
}

.brown
{
 background-color:#552222;
}

.lightblue
{
 background-color:#ADD8ef;
}

.pink
{
 background-color: #bb55aa; //#EC098C; #FF0080
}

.orange
{
 background-color:#F37735;
}

.red
{
 background-color:#dd1133; //#D11133;
}

.yellow
{
 background-color:#bbbb77;
}

.green
{
 background-color:#559977;
}

.blue
{
 background-color: #226699; //#111133;#556677;
}

.communitychest
{
 background-color:#eeeeee; 
 background-image:url('images/chest1.gif');
 background-size:45px 40px;
 background-repeat:no-repeat; 
 background-position:bottom;
}

.chance
{
 background-color:#eeeeee; 
 background-image:url('images/chance1.gif');
 background-size:30px 60px;
 background-repeat:no-repeat; 
 background-position:center;
}

.station
{
 background-color:#556677; 
 //background-image:url('images/station1.gif');
 //background-size:25px 25px;
 //background-repeat:no-repeat; 
 //background-position:top;
 //background-border:1px solid black;
}

.utilities
{
 background-color:#559999;
 //background-image:url('images/water1.gif');
 //background-size:30px 30px;
 //background-repeat:no-repeat;
 //background-position:top
}

.taxes
{
 background-color:#999999;
}

#go
{
 transform: rotate(0deg);
-ms-transform: rotate(0deg); /* IE 9 */
-webkit-transform: rotate(0deg); /* Safari and Chrome */
-o-transform: rotate(0deg); /* Opera */
-moz-transform: rotate(0deg); /* Firefox */
}

#jail
{
 transform: rotate(90deg);
-ms-transform: rotate(90deg); /* IE 9 */
-webkit-transform: rotate(90deg); /* Safari and Chrome */
-o-transform: rotate(90deg); /* Opera */
-moz-transform: rotate(90deg); /* Firefox */
}

#parking
{
 transform: rotate(180deg);
-ms-transform: rotate(180deg); /* IE 9 */
-webkit-transform: rotate(180deg); /* Safari and Chrome */
-o-transform: rotate(180deg); /* Opera */
-moz-transform: rotate(180deg); /* Firefox */
}

#gotojail
{
 transform: rotate(270deg);
-ms-transform: rotate(270deg); /* IE 9 */
-webkit-transform: rotate(270deg); /* Safari and Chrome */
-o-transform: rotate(225deg); /* Opera */
-moz-transform: rotate(270deg); /* Firefox */
}

.inside_hovered
{
 height:448px;
 width:448px;
 background-color:white;
}

#dice_space
{
 margin:0 auto;
 margin-top:100px;
 height:auto; 
 width:100px;
 display:none;
}

#roll_button
{
 width:100px;
 height:30px;
 width:98px;
 width:100px;
 color:black;
 background-color:#cccccc;
}

#roll_button:hover
{
 cursor:pointer;
}

#end_turn_button
{
 width:100px;
 height:30px;
 width:98px;
 width:100px;
 color:black;
 background-color:blue;
 display:none;
}

#end_turn_button:hover
{
 cursor:pointer;
}

.info
{
 height:250px;
 width:200px;
 margin:0 auto;
 margin-top:100px;
 border:1px dashed black;
 //background-color:#eeeeee;
 //-webkit-transform: rotateY(10deg) rotateX(10deg) rotate(-45deg);
 //-webkit-box-shadow: 3px 3px 5px 6px #aaaaaa;
  box-shadow:    0px 0px 10px 10px #cccccc; //   6px 6px 5px 5px #cccccc;
}

.buy_or_auction_space
{
 height:20px;
 width:150px;
 margin:0 auto;
 display:none;
}           

.buy_button, .auction_button, .show_button
{
 height:20px;
 width:75px;
 float:left;
 background-color:#cccccc;
}      

.inner_console
{
 margin:0 auto;
 margin-top:80px;
 height:300px;
 width:300px;
 background-color:orange;
 display:none;
}

.exit_console
{
 margin-left:100px;
 height:30px;
 width:100px;
 color:black;
 background-color:#cccccc;
}

.exit_console:hover
{
 margin-left:100px;
 height:30px;
 width:100px;
 cursor:pointer;
}

#controls
{
 margin:0 auto;
 margin-top:50px;
 height:30px;
 width:400px;
 display:none;
}
.controls_button_space
{
 float:left;
 height:auto;
 width:100px;
}

.control_button
{
 height:30px;
 width:98px;
 color:black;
 background-color:#cccccc;
}

.control_button:hover
{
 height:30px;
 width:98px;
 color:white;
 background-color:black;
 cursor:pointer;
}

.players_space
{
 float:left;
 height:580px;
 width:140px;
 //background-color:green;
 margin-top:15px;
}

.player
{
 height:280px;
 width:140px;
 background-color:#aaaaaa;
 background-position: left top;
 background-size: 50px 50px;
 background-repeat: no-repeat;
}

.player_names
{
 font-size: 20px;
 color:#444444;
}

.player_ownership
{
 height:50px;
 width:100px;
 margin:0 auto;
 background-color:#999999;
}

.board_separator
{
 float:left;
 height:610px;
 width:5px;
 background-color:#bbbbbb;
}

</style>


<script type="text/javascript">

var alldata;
var ids =
[
 "go",
 "brown1",
 "communitychest1",
 "brown2",
 "taxes1",
 "station1",
 "lightblue1",
 "chance1",
 "lightblue2",
 "lightblue3",
 "jail",
 "pink1",
 "utilities1",
 "pink2",
 "pink3",
 "station2",
 "orange1",
 "communitychest2",
 "orange2",
 "orange3",
 "parking",
 "red1",
 "chance2",
 "red2",
 "red3",
 "station3",
 "yellow1",
 "yellow2",
 "utilities2",
 "yellow3",
 "gotojail",
 "green1",
 "green2",
 "communitychest3",
 "green3",
 "station4",
 "chance3",
 "blue1",
 "taxes2",
 "blue2"
];

var die = new Array;
die[1] = new Image;
die[1].src = 'images/dice_1.gif';
die[2] = new Image;
die[2].src = 'images/dice_2.gif';
die[3] = new Image;
die[3].src = 'images/dice_3.gif';
die[4] = new Image;
die[4].src = 'images/dice_4.gif';
die[5] = new Image;
die[5].src = 'images/dice_5.gif';
die[6] = new Image;
die[6].src = 'images/dice_6.gif';


function showinfo(location_id)
{
                var colour_class = location_id.slice(0,-1);
                //$("#"+location_id).addClass('location_hovered');
                //$("#dice_space").hide();
                $("#inside").addClass('inside_hovered');//$("#inside").addClass(colour_class);
                
                $('#dice_space').hide();
                $('#controls').hide();

                if($("#"+location_id).is('.station'))
                {
                        //$(".info.station").addClass(colour_class);
                        $(".info.station").show(); 
                        $(".info.station").find('.info_location_name').html(alldata[location_id].name);
                        $(".info.station").find('.info_location_price').html("Price : "+alldata[location_id].price);
                        $(".info.station").find('.info_location_rent').html("Rent : "+alldata[location_id].rent);
                        $(".info.station").find('.info_location_rent_2').html("With 2 stations : "+alldata[location_id].rent_2);
                        $(".info.station").find('.info_location_rent_3').html("With 3 stations : "+alldata[location_id].rent_3);
                        $(".info.station").find('.info_location_rent_4').html("With 4 stations : "+alldata[location_id].rent_4);
                        $(".info.station").find('.info_location_mortgage').html("Mortgage : "+alldata[location_id].mortgage);
                       /* $("#inside").html("<div class='info "+colour_class+"'><br><p align='center'>"+alldata[location_id].name+"</p><p align='center'>Price : "+alldata[location_id].price+"</p><hr><br><p align='center'>Rent : "+alldata[location_id].rent+"</p><p align='center'>With 2 stations : "+alldata[location_id].rent_2+"</p><p align='center'>With 3 stations : "+alldata[location_id].rent_3+"</p><p align='center'>With 4 stations : "+alldata[location_id].rent_4+"</p><p align='center'>Mortgage Value : "+alldata[location_id].mortgage+"</p></div>"); */
                }
                
                else if($("#"+location_id).is('.utilities'))
                {
                        $(".info.utilities").show(); 
                        $(".info.utilities").find('.info_location_name').html(alldata[location_id].name);
                        $(".info.utilities").find('.info_location_price').html("Price : "+alldata[location_id].price);
                        $(".info.utilities").find('.info_location_rent').html("Rent : "+alldata[location_id].rent);
                        $(".info.utilities").find('.info_location_rent_2').html("With 2 utilities : "+alldata[location_id].rent_2);
                        $(".info.utilities").find('.info_location_mortgage').html("Mortgage : "+alldata[location_id].mortgage);
                       /* $("#inside").html("<div class='info utilities'><br><p align='center'>"+alldata[location_id].name+"</p><p align='center'>Price : "+alldata[location_id].price+"</p><hr><p align='center'>Rent : "+alldata[location_id].rent+"</p><p align='center'>With 2 utilities : "+alldata[location_id].rent_2+"</p><p align='center'>Mortgage Value : "+alldata[location_id].mortgage+"</p></div>"); */
                }
                
                else if($("#"+location_id).is('.taxes'))
                {
                        $(".info.taxes").show(); 
                        $(".info.taxes").find('.info_location_name').html(alldata[location_id].name);
                        $(".info.taxes").find('.info_location_remarks').html(alldata[location_id].remarks);
                        /*$("#inside").html("<div class='info taxes'><br><p align='center'>"+alldata[location_id].name+"</p><hr><p align='center'>"+alldata[location_id].remarks+"</p></div>");*/
                }
                
                else if($("#"+location_id).is('.communitychest'))
                {
                        $(".info.communitychest").show(); 
                        $(".info.communitychest").find('.info_location_name').html(alldata[location_id].name);
                        $(".info.communitychest").find('.info_location_remarks').html(alldata[location_id].remarks);
                        /*$("#inside").html("<div class='info communitychest' ><br><p style='color:black;' align='center'>"+alldata[location_id].name+"</p><hr><p style='color:black;' align='center'>"+alldata[location_id].remarks+"</p></div>");*/
                }
                
                else if($("#"+location_id).is('.chance'))
                {
                        $(".info.chance").show(); 
                        $(".info.chance").find('.info_location_name').html(alldata[location_id].name);
                        $(".info.chance").find('.info_location_remarks').html(alldata[location_id].remarks);
                        /*$("#inside").html("<div class='info chance' ><br><p style='color:black;' align='center'>"+alldata[location_id].name+"</p><hr><p style='color:black;' align='center'>"+alldata[location_id].remarks+"</p></div>");*/
                }
                
                else if($("#"+location_id).is('.buyable'))
                {
                        //use fill function. pass what all needs to be filled.
                        $(".info.title").addClass(colour_class);
                        $(".info.title").show(); 
                        $(".info.title").find('.info_location_name').html(alldata[location_id].name);
                        $(".info.title").find('.info_location_price').html("Price : "+alldata[location_id].price);
                        $(".info.title").find('.info_location_rent').html("Rent : "+alldata[location_id].rent);
                        $(".info.title").find('.info_location_rent_1').html("With 1 house : "+alldata[location_id].rent_1h);
                        $(".info.title").find('.info_location_rent_2').html("With 2 houses : "+alldata[location_id].rent_2h);
                        $(".info.title").find('.info_location_rent_3').html("With 3 houses : "+alldata[location_id].rent_3h);
                        $(".info.title").find('.info_location_rent_4').html("With 4 houses : "+alldata[location_id].rent_4h);
                        $(".info.title").find('.info_location_rent_hotel').html("With 1 hotel: "+alldata[location_id].rent_hotel);
                        $(".info.title").find('.info_location_mortgage').html("Mortgage : "+alldata[location_id].mortgage);
                      /*  $("#inside").html("<div class='info "+colour_class+"'><br><p align='center'>"+alldata[location_id].name+"</p><p align='center'>Price : "+alldata[location_id].price+"</p><hr><p align='center'>Rent : "+alldata[location_id].rent+"</p><p align='center'>With 1 house : "+alldata[location_id].rent_1h+"</p><p align='center'>With 2 houses : "+alldata[location_id].rent_2h+"</p><p align='center'>With 3 houses : "+alldata[location_id].rent_3h+"</p><p align='center'>With 4 houses : "+alldata[location_id].rent_4h+"</p><p align='center'>With 1 hotel : "+alldata[location_id].rent_hotel+"</p><p align='center'>Mortgage Value : "+alldata[location_id].mortgage+"</p></div>"); */
                //location_id.name  .price .rent .rent_1h .rent_2h .rent_3h .rent_4h .rent_hotel .mortgage
                }
                else if(location_id=="go"||location_id=="jail"||location_id=="parking"||location_id=="gotojail")
                {
                        $(".info."+location_id).show(); 
                        $(".info."+location_id).find('.info_location_name').html(alldata[location_id].name);
                        $(".info."+location_id).find('.info_location_remarks').html(alldata[location_id].remarks);
                }
}

function hideinfo(location_id)
{
                var colour_class = location_id.slice(0,-1);
                //$("#"+location_id).removeClass('location_hovered');
                $("#inside").removeClass('inside_hovered');
                $(".info.title").removeClass(colour_class);
                $(".info").hide();
                $('#dice_space').show();
                $('#controls').show();
                
}

function build(location_id, what)
{
                $("#"+location_id).find('div.build_space').addClass(what);
}

function build_appropriately(location_id)
{
        var i = alldata[location_id].houses;
        if(i>=5){alert("no more. enough.");}
        //var colour_class = location_id.slice(0,-1);
        var what;
        if(i==0){what = "houses_1"; build(location_id,what); alldata[location_id].houses=1;}
        else if(i==1){$("#"+location_id).find('div.build_space').removeClass("houses_1");what = "houses_2"; build(location_id,what); alldata[location_id].houses=2;}
        else if(i==2){$("#"+location_id).find('div.build_space').removeClass("houses_2");what = "houses_3"; build(location_id,what); alldata[location_id].houses=3;}
        else if(i==3){$("#"+location_id).find('div.build_space').removeClass("houses_3");what = "houses_4"; build(location_id,what); alldata[location_id].houses=4;}
        else if(i==4){$("#"+location_id).find('div.build_space').removeClass("houses_4");what = "hotel"; build(location_id,what); alldata[location_id].houses=5;}        
}

function start_rolling(id1, id2, for_player_order)
{
    state_during_roll(for_player_order);
    //alert("started_rolling");
    animateRoll(id1, id2, for_player_order);
    //alert(x);
}

function animateRoll(id1, id2, for_player_order, times)
{
         times = times || 1;
         //alert("animating"+times);
         var roll = generateRoll();
         //alert(roll);
         drawRoll(roll[0], roll[1], id1, id2, for_player_order);
         if(for_player_order=='1') n = 4;
         else if(for_player_order=='0') n=10;
         if (times > n)
         {
                var x = checkRoll(roll[0], roll[1], for_player_order);
                player_die_total.push(x);
                return;
         }
         
         setTimeout(function(){animateRoll(id1, id2, for_player_order, (times + 1) )}, 100);
}

function generateRoll()
{
    return [ Math.floor(Math.random()*6) + 1, Math.floor(Math.random()*6) + 1 ];
}

function drawRoll(die1, die2, id1, id2, for_player_order)
{
    //alert("drawing at " +id1);
    document.getElementById(id1).innerHTML = '<img src="images/dice_' + die1 +'.gif" style="height:50px;width:50px;">';
    document.getElementById(id2).innerHTML = '<img src="images/dice_' + die2 +'.gif" style="height:50px;width:50px;">';
}

function checkRoll(die1, die2, for_player_order)
{
    if(die1==die2) roll_again = 1;
    else roll_again = 0;

    var total = die1 + die2;
    
    if(for_player_order=='0') move_to_position(total);
    else if(for_player_order=='1') return total;
}      

function check(c,f)
{
    if(c==f)  {clearTimeout(timer1); clearTimeout(timer2); return 0;}
}

var timer2 = 0, timer1 = 0;
function appear(n, f)
{   
    n=n%40;
    if(check(n-1,f)!=0)
    {
        $("#"+ids[n]).find('div.piece_space_1').addClass(piece_to_move);    //pieces work
        timer2 = setTimeout(function(){disappear(n, f)},50);
    }
    else
    {
        $("#"+ids[n-1]).find('div.piece_space_1').addClass(piece_to_move);
        showinfo(ids[n]);
        state_after_roll_before_buy();
    }
}

function disappear(c, f)
{
    c=c%40;
    console.log(c);
    if(check(c,f)!=0)
    {
        $("#"+ids[c]).find('div.piece_space_1').removeClass(piece_to_move);
        timer1 = setTimeout(function(){appear(c+1, f)},50);
    }
    else
    {
        $("#"+ids[c]).find('div.piece_space_1').addClass(piece_to_move);
        showinfo(ids[c]); 
        state_after_roll_before_buy();
    }
}

function move_to_position(total)
{
            var newposition=position[whose_turn_is_it-1]+total;
            newposition=newposition%40;
               
            disappear(position[whose_turn_is_it-1], newposition);
            position[whose_turn_is_it-1] = newposition;   //need to keep track of all player positions
}

function set_pieces_at_go()
{
    $("#go").find('div.piece_space_1').addClass('piece2');
    $("#go").find('div.piece_space_2').addClass('piece1');
    $("#go").find('div.piece_space_3').addClass('piece3');
    $("#go").find('div.piece_space_4').addClass('piece4');
    position = [0,0,0,0];
}


//must make states player specific
var timer;
var whose_turn_is_it;
var turn_order = new Array();
var player_die_total = new Array();
var player_names = ["Aayush","Shikhar","Sahil","Taruni"];
var position = []; 
var p1 = {}, p2 = {}, p3 = {}, p4 = {}; //sort out player objects - needed for position, name, piece, ownership and money left
var p = [];
var piece_to_move;
var roll_again;

function find_player_order()
{
  start_rolling('p1_die1', 'p1_die2', '1');
  start_rolling('p2_die1', 'p2_die2', '1');
  start_rolling('p3_die1', 'p3_die2', '1');
  start_rolling('p4_die1', 'p4_die2', '1');
  
  setTimeout(function(){
    
    for (var i = 0; i <= 3; i++) 
    {
        var max_value = -1;
        for (var j = 0; j <= 3; j++)
        {
            if(player_die_total[j]>=max_value)
                max_value = player_die_total[j];
        }
      
      var index = player_die_total.indexOf(max_value);
      turn_order[i] = player_die_total.indexOf(max_value);
      player_die_total[index]=0;
      //alert(turn_order[i]);
      document.getElementById("p"+(i+1)+"_name").innerHTML = player_names[turn_order[i]];
      //alert("#p"+(i+1)+"_name");
      
    };

    choose_pieces();

  }, 500);
  
}

function choose_pieces()
{
    //$("#roll_all_players").hide();
    //alert("Order decided. time to choose pieces");
    p1.piece = "piece1";
    p2.piece = "piece2";
    p3.piece = "piece3";
    p4.piece = "piece4";
    //$("#p1")
    for (var i = 0; i<=3; i++)
    {
        //var obj = {piece : "piece"+(i+1)};
        //p.push(obj);
        //alert(p[i].piece);
        $("#p"+(i+1)).addClass("piece"+(i+1));
    }
}

function begin_game()   //call after player order decided and pieces chosen.
{
    set_pieces_at_go();
    whose_turn_is_it = 1;
    begin_turn(whose_turn_is_it);
}

function begin_turn(x)   
{
    state_before_roll(0);
    piece_to_move = "piece"+x;
    alert("Player "+x+" : Your turn");
}

function end_turn(x)   
{
    alert("Player "+x+" : Turn over");          
    whose_turn_is_it+=1;
    if(whose_turn_is_it>4) whose_turn_is_it=1;  //turns work
    begin_turn(whose_turn_is_it);
}

// states
var allow = new Array();
function init_states()
{
  allow_hover("false");
  allow_build("false");
  allow_select("false");
  //$("#dice_space").show();
  $("#roll_all_players").show();
  find_player_order();

}

function allow_build(state) //during Build
{
  allow["build"] = state;
}

function allow_hover(state) //before roll, after roll, during mortgage, when not ur turn, etc.
{
  allow["hover"] = state;
}

function allow_select(state) //selecting locations for mortgaging, trading, unmortgaging
{
  allow["select"] = state;
}

function allow_roll(state)  //for rolling. deactivate after rolling.
{
  allow["roll"] = state;
}

function allow_controls(state)  //to be activated before and after rolling, mortgaging, trading, building, etc.
{
  allow["controls"] = state;
}

function is_allowed(action)
{
  return allow[action];
}

function if_not_turn()
{
  //allow hover. dont allow controls. dont allow roll. dont allow select on board. dont allow build on board.
//show die of others turn. dont show controls. hide and show info on hover. dont show innerconsole.
}

function state_before_roll()  //default state - go to this state or after_buy() state when going back from innerconsole(trading, mortgaging, etc)
{
    $("#end_turn_button").hide(); 
    $("#roll_button").show();
    $("#dice_space").show();
    $("#controls").show();
    $(".inner_console").hide();
    allow_hover("true");
//allow hover. allow controls. allow roll. dont allow select on board. dont allow build on board.
//show die. show controls. hide and show info on hover. dont show innerconsole.
}

function state_during_roll(for_player_order)
{
    if(for_player_order=='0')
    {
        $("#controls").hide();
        $("#roll_button").attr('disabled','disabled');
        $("#roll_button").css('background-color','white');
        $("#roll_button").css('cursor','auto');
        allow_hover("false");
    }
    
  //dont allow hover. dont allow controls. dont allow roll. dont allow select on board. dont allow build on board.
//show die. dont show controls. dont hide and show info on hover. dont show innerconsole.
}

function state_after_roll_before_buy()
{
    $(".buy_or_auction_space").show();
    allow_hover("false");
  //dont allow hover. dont allow controls. dont allow roll. dont allow select on board. dont allow build on board.
//show info of location automatically. dont show controls. dont hide and show info on hover. dont show innerconsole.
}

function state_after_buy()
{
    $(".info").hide();
    $("#roll_button").removeAttr('disabled');
    $("#roll_button").css('background-color','#cccccc');
    $("#roll_button").css('cursor','pointer');
    $("#controls").show();
    $("#dice_space").show();
    $(".buy_or_auction_space").hide();
    allow_hover("true");

    if(roll_again=='0') 
    {
        $("#end_turn_button").show(); 
        $("#roll_button").hide();
    }  //if double otherwise let it be..let it be. let it beee let it beeee, whisper words of wisdom, let it be.
    //give end turn option and continue timer.
    
    
  //allow hover. allow controls. allow roll if double else dont allow and change roll to end turn. dont allow select on board. dont allow build on board.
//show die. show controls. hide and show info on hover. dont show innerconsole.
}

function state_on_trade()
{
    $("#dice_space").hide();
    $("#controls").hide();
    $("#trade_console").show();
    allow_select("true");
    allow_hover("false");
  //dont allow hover. dont allow controls. dont allow roll. allow multi-select on board. dont allow build on board.
//dont show die. dont show controls. dont hide and show info on hover. show innerconsole. show ownership on board.
}

function state_on_mortgage()
{
    $("#dice_space").hide();
    $("#controls").hide();
    $("#mortgage_console").show();
    allow_select("true");
    allow_hover("false");
  //dont allow hover. dont allow controls. dont allow roll. allow multi-select on board. dont allow build on board.
//dont show die. dont show controls. dont hide and show info on hover. show innerconsole. show ownership on board.
}

function state_on_unmortgage()
{
    $("#dice_space").hide();
    $("#controls").hide();
    $("#unmortgage_console").show();
    allow_select("true");
    allow_hover("false");
  //dont allow hover. dont allow controls. dont allow roll. allow select on board. dont allow build on board.
//dont show die. dont show controls. dont hide and show info on hover. show innerconsole. show ownership on board.
}

function state_on_build()
{
    $("#dice_space").hide();
    $("#controls").hide();
    $("#build_console").show();
    allow_build("true");
    allow_hover("false");
  //allow hover. dont allow controls. dont allow roll. dont allow select on board. allow build on board.
//dont show die. dont show controls. hide and show info on hover. show innerconsole. show buildable properties on board.
}

function state_on_exit_console()
{
    $(".inner_console").hide();
    $("#dice_space").show();
    $("#controls").show();
    allow_build("false");
    allow_hover("true");
    allow_select("false");
}
//jquery events
$(document).ready(function() {
        
        init_states();
        
        $.ajax({
          url:'data/location_data.json',
          dataType: 'json',
          success: function(data) {
                alldata = data;
          },
          async: false
        });
        
        $(".location,.location_vert").mouseover(function () {
          if(is_allowed("hover")=="true")
          {
               var location_id = this.id;
               showinfo(location_id);
          }
        });
        $(".location,.location_vert").mouseleave(function () {
          if(is_allowed("hover")=="true")
          {
               var location_id = this.id;
               hideinfo(location_id);
          }              
        });
        
        //var houses = new Array();
        // houses["brown1"]=0;houses["brown2"]=0;houses["lightblue1"]=0;houses["lightblue2"]=0;houses["lightblue3"]=0;
        //added number of houses and owner to - alldata(local version of all board data in json). so no need for above 2 lines.
        $(".location,.location_vert").click(function () {
               //check if allowed to build. if all 3 props owned then yes then proceed. else showinfo(). also make sure the diff in no of houses between any 2 of the 3 props is never more than 1.
            if(is_allowed("build")=="true")
            {
                var location_id = this.id;
                build_appropriately(location_id);
            }
        });
        
//selecting

        $(".location.buyable,.location_vert.buyable").click(function () {  //also on the basis on ownership
            if(is_allowed("select")=="true")
            {
                //alert("hi");
                var location_id = this.id;
                var colour_class = location_id.slice(0,-1);
                if(alldata[location_id].selected!=1)
                {
                    alldata[location_id].selected=1;
                    $("#"+location_id).addClass('location_selected');
                    $("#"+location_id).removeClass(colour_class);

                }
                else if(alldata[location_id].selected==1)
                {
                    alldata[location_id].selected=0;
                    $("#"+location_id).removeClass('location_selected');
                    $("#"+location_id).addClass(colour_class);
                }
            }
        });

    var selected_locations = [];       
        $(".finalise_selection").click(function () {

        for (var i = ids.length - 1; i >= 0; i--) {         //traverse thru all locations and add to selected_locations[] those that have selected = 1
            console.log(alldata[ids[i]].selected);
            if(alldata[ids[i]].selected==1) 
            {
                selected_locations.push(ids[i]);
                var colour_class = ids[i].slice(0,-1);
                $("#"+ids[i]).removeClass('location_selected');
                $("#"+ids[i]).addClass(colour_class);
            }
        }
        });

        $("#trade_button").click(function () {
            state_on_trade();
        });

        $("#mortgage_button").click(function () {
            state_on_mortgage();
        });

        $("#unmortgage_button").click(function () {
            state_on_unmortgage();
        });

        $("#build_button").click(function () {
            state_on_build();
        });

        $(".exit_console").click(function () {
            state_on_exit_console();
        });
         
        $(".buy_button").click(function () {
            alert("thank you for buying");//deduct money
            state_after_buy();
        });

        $(".show_button").click(function () {
            alert("its your birthday! have a treat! or take $10 from everyone");//show random card
            state_after_buy();
        });

        $("#go").click(function () {
            begin_game();
        });
     
});
</script>
</head>

<body>


<div id="wrapper" >
        <div class = "players_space" id="players_left">
                <div class="player" id="p2">
                        <br>
                        <p>P2</p>
                        <hr>
                        <p class="player_names" id="p2_name"></p>
                        <hr>
                        <p id="p2_money">$1500</p>
                        <hr>
                        <p>Owned</p>
                        <br>
                        <table class="player_ownership" id="p2_ownership">
                                <tr><td><p style="text-align:left">Titles</p></td><td id="p2_titles"><p style="text-align:right">3</p></td></tr>
                                <tr><td><p style="text-align:left">Stations</p></td><td id="p2_stations"><p style="text-align:right">2</p></td></tr>
                                <tr><td><p style="text-align:left">Utilities</p></td><td id="p2_utilities"><p style="text-align:right">1</p></td></tr>
                        </table>                     
                </div>
                <hr/>
                <div class="player" id="p1">
                        <br>
                        <p>P1</p>
                        <hr>
                        <p class="player_names" id="p1_name"></p>
                        <hr>
                        <p id="p1_money">$1500</p>
                        <hr>
                        <p>Owned</p>
                        <br>
                        <table class="player_ownership" id="p1_ownership">
                                <tr><td><p style="text-align:left">Titles</p></td><td id="p1_titles"><p style="text-align:right">3</p></td></tr>
                                <tr><td><p style="text-align:left">Stations</p></td><td id="p1_stations"><p style="text-align:right">2</p></td></tr>
                                <tr><td><p style="text-align:left">Utilities</p></td><td id="p1_utilities"><p style="text-align:right">1</p></td></tr>
                        </table>                     
                </div>
        </div>      
        <div class="board_separator"></div>  
        
        <div id="board">
                <div id="top" class="locations-hor" >
                        <div class="location_corner" id="parking">
                                <div class="piece_space_2 corner_margin_adjust_piece_spaces"></div>
                                <div class="piece_space_3 corner_margin_adjust_piece_spaces"></div>
                                <div class="piece_space_4 corner_margin_adjust_piece_spaces"></div>
                                <div class="built_space_unused"></div>
                                <div class="piece_space_1"></div>
                                <p style="" align="center">Free Parking</p>
                        </div>
                        <div class="location top red buyable" id="red1">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Strand</font><br/><font size=1>$220</font></p> 
                        </div>
                        <div class="location top chance" id="chance2">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="built_space_unused"></div><!--not used-->
                                <!insert background image of question mark instead-->
                                <div class="piece_space_1"></div>
                               <!-- <p align="center"><font size=1>P. Road</font><br/><font size=1>$100</font></p> -->
                        </div>
                        <div class="location top red buyable" id="red2">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Fleet St.</font><br/><font size=1>$220</font></p> 
                        </div>                     
                        <div class="location top red buyable" id="red3">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Traf. Sq.</font><br/><font size=1>$240</font></p> 
                        </div>
                        <div class="location top station buyable" id="station3">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="built_space_unused"></div><!--not used-->
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Fenchurch</font><br/><font size=1>$200</font></p> 
                        </div>
                        <div class="location top yellow buyable" id="yellow1">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Leicester</font><br/><font size=1>$260</font></p> 
                        </div>                     
                        <div class="location top yellow buyable" id="yellow2">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Coventry</font><br/><font size=1>$260</font></p> 
                        </div>
                        <div class="location top utilities buyable" id="utilities2">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="built_space_unused"></div><!--not used-->
                                <!insert background image of waterworks instead-->
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Water</font><br/><font size=1>$150</font></p>
                        </div>
                        <div class="location top yellow buyable" id="yellow3">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Piccadilly</font><br/><font size=1>$280</font></p> 
                        </div>
                        <div class="location_corner" id="gotojail">
                                <div class="piece_space_2 corner_margin_adjust_piece_spaces"></div>
                                <div class="piece_space_3 corner_margin_adjust_piece_spaces"></div>
                                <div class="piece_space_4 corner_margin_adjust_piece_spaces"></div>
                                <div class="built_space_unused"></div>
                                <div class="piece_space_1"></div>
                                <p style="margin-top:10px" align="center">Go To Jail</p>
                        </div>
                        
                        <div style="clear:both"></div>
                </div>
                <div id="middle-hor">
                        <div class="locations-vert" id="left">
                                <div class="location_vert left orange buyable" id="orange3" style="margin-top:-15px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Vine St.</font><br/><font size=1>$200</font></p> 
                                </div>
                                <div class="location_vert left orange buyable" id="orange2" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Marl st.</font><br/><font size=1>$180</font></p> 
                                </div>
                                <div class="location_vert left communitychest" id="communitychest2" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="built_space_unused"></div><!--not used-->
                                        <div class="piece_space_1"></div>
                                       <!-- <p align="center"><font size=1>P. Road</font><br/><font size=1>$100</font></p> -->
                                </div>
                                 <div class="location_vert left orange buyable" id="orange1" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Bow St.</font><br/><font size=1>$180</font></p> 
                                </div>
                                <div class="location_vert left station buyable" id="station2" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="built_space_unused"></div><!--not used-->
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Marylbone</font><br/><font size=1>$200</font></p> 
                                </div>
                                <div class="location_vert left pink buyable" id="pink3" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>NL Ave</font><br/><font size=1>$160</font></p> 
                                </div>
                                <div class="location_vert left pink buyable" id="pink2" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Whitehall</font><br/><font size=1>$140</font></p> 
                                </div>
                                <div class="location_vert left utilities buyable" id="utilities1" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="built_space_unused"></div><!--not used-->
                                        <!insert background image of Electric works instead-->
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Electric</font><br/><font size=1>$150</font></p>
                                </div>
                                 <div class="location_vert left pink buyable" id="pink1" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Pall Mall</font><br/><font size=1>$140</font></p> 
                                </div>
                        </div>
                        <div id="inside">
                                <div class="inner_console" id="roll_all_players">
                                    <table style="border-spacing:0;height:300px;width:300px;margin:0 auto;">
                                        <tr style="height:75px;width:300px;">
                                            <td style="height:50px;width:97px;"><p>Aayush</p></td>
                                            <td style="height:50px;width:200px;">
                                                <div id="p1_piece" style="width:50px;height:50px;float:left"></div>
                                                <div id="p1_die1" style="background-color:blue;width:50px;height:50px;float:left"></div>
                                                <div id="p1_die2" style="background-color:blue;width:50px;height:50px;float:left"></div>
                                            </td>
                                        </tr>
                                        <tr style="height:75px;width:300px;">
                                            <td style="height:50px;width:97px;"><p>Shikhar</p></td>
                                            <td style="height:50px;width:200px;">
                                                <div id="p2_piece" style="width:50px;height:50px;float:left"></div>
                                                <div id="p2_die1" style="background-color:blue;width:50px;height:50px;float:left"></div>
                                                <div id="p2_die2" style="background-color:blue;width:50px;height:50px;float:left"></div>
                                            </td>
                                        </tr>
                                        <tr style="height:75px;width:300px;">
                                            <td style="height:50px;width:97px;"><p>Sahil</p></td>
                                            <td style="height:50px;width:200px;">
                                                <div id="p3_piece" style="width:50px;height:50px;float:left"></div>
                                                <div id="p3_die1" style="background-color:blue;width:50px;height:50px;float:left"></div>
                                                <div id="p3_die2" style="background-color:blue;width:50px;height:50px;float:left"></div>
                                            </td>
                                        </tr>
                                        <tr style="height:75px;width:300px;">
                                            <td style="height:50px;width:97px;"><p>Taruni</p></td>
                                            <td style="height:50px;width:200px;">
                                                <div id="p4_piece" style="width:50px;height:50px;float:left"></div>
                                                <div id="p4_die1" style="background-color:blue;width:50px;height:50px;float:left"></div>
                                                <div id="p4_die2" style="background-color:blue;width:50px;height:50px;float:left"></div>
                                            </td>
                                        </tr>
                                    </table>
                                </div> 
                                <div class="info title" style="display:none">
                                        <br>
                                        <p class="info_location_name" align="center"></p>
                                        <p class="info_location_price" align="center"></p>
                                        <hr>
                                        <p class="info_location_rent" align="center"></p>
                                        <p class="info_location_rent_1" align="center"></p>
                                        <p class="info_location_rent_2" align="center"></p>
                                        <p class="info_location_rent_3" align="center"></p>
                                        <p class="info_location_rent_4" align="center"></p>
                                        <p class="info_location_rent_hotel" align="center"></p>
                                        <p class="info_location_mortgage" align="center"></p>
                                        <hr/>
                                        <div class="buy_or_auction_space">
                                            <input class="buy_button" type="button" value="Buy"/>
                                            <input class="auction_button" type="button" value="Auction" />
                                        </div>
                                </div>
                                <div class="info station" style="display:none;">
                                        <br>
                                        <p class="info_location_name" align="center"></p>
                                        <p class="info_location_price" align="center"></p>
                                        <hr>
                                        <p class="info_location_rent" align="center"></p>
                                        <p class="info_location_rent_2" align="center"></p>
                                        <p class="info_location_rent_3" align="center"></p>
                                        <p class="info_location_rent_4" align="center"></p>
                                        <p class="info_location_mortgage" align="center"></p>
                                        <hr/>
                                        <div class="buy_or_auction_space">
                                            <input class="buy_button" type="button" value="Buy"/>
                                            <input class="auction_button" type="button" value="Auction" />
                                        </div>
                                </div>
                                <div class="info utilities" style="display:none;">
                                        <br>
                                        <p class="info_location_name" align="center"></p>
                                        <p class="info_location_price" align="center"></p>
                                        <hr>
                                        <p class="info_location_rent" align="center"></p>
                                        <p class="info_location_rent_2" align="center"></p>
                                        <p class="info_location_mortgage" align="center"></p>
                                        <hr/>
                                        <div class="buy_or_auction_space">
                                            <input class="buy_button" type="button" value="Buy"/>
                                            <input class="auction_button" type="button" value="Auction" />
                                        </div>
                                </div>
                                <div class="info taxes" style="display:none;">
                                        <br>
                                        <p class="info_location_name" align="center"></p>
                                        <hr>
                                        <br>
                                        <p class="info_location_remarks" align="center"></p>
                                        <hr/>
                                        <div class="buy_or_auction_space">
                                            <input class="buy_button" type="button" value="Pay"/>
                                            <!--<input class="auction_button" type="button" value="Auction" />-->
                                        </div>
                                </div>
                                <div class="info chance" style="display:none;">
                                        <br>
                                        <p class="info_location_name" align="center" style='color:black;'></p>
                                        <hr>
                                        <br>
                                        <p class="info_location_remarks" align="center" style='color:black;'></p>
                                        <hr/>
                                        <div class="buy_or_auction_space">
                                            <input class="show_button" type="button" value="Show"/>
                                            <!--<input class="auction_button" type="button" value="Auction" />-->
                                        </div>
                                </div>
                                <div class="info communitychest" style="display:none;">
                                        <br>
                                        <p class="info_location_name" align="center" style='color:black;'></p>
                                        <hr>
                                        <br>
                                        <p class="info_location_remarks" align="center" style='color:black;'></p>
                                        <hr/>
                                        <div class="buy_or_auction_space">
                                            <input class="show_button" type="button" value="Show"/>
                                            <!--<input class="auction_button" type="button" value="Auction" />-->
                                        </div>
                                </div>
                                <div class="info go" style="display:none;">
                                        <br>
                                        <p class="info_location_name" align="center" style='color:black;'></p>
                                        <hr>
                                        <br>
                                        <p class="info_location_remarks" align="center" style='color:black;'></p>
                                </div>
                                <div class="info jail" style="display:none;">
                                        <br>
                                        <p class="info_location_name" align="center" style='color:black;'></p>
                                        <hr>
                                        <br>
                                        <p class="info_location_remarks" align="center" style='color:black;'></p>
                                </div>
                                <div class="info parking" style="display:none;">
                                        <br>
                                        <p class="info_location_name" align="center" style='color:black;'></p>
                                        <hr>
                                        <br>
                                        <p class="info_location_remarks" align="center" style='color:black;'></p>
                                </div>
                                <div class="info gotojail" style="display:none;">
                                        <br>
                                        <p class="info_location_name" align="center" style='color:black;'></p>
                                        <hr>
                                        <br>
                                        <p class="info_location_remarks" align="center" style='color:black;'></p>
                                </div>
                                <div id="dice_space">
                                        <div id="turn_die1" style="width:50px;height:50px;float:left"></div>
                                        <div id="turn_die2" style="width:50px;height:50px;float:left"></div>
                                        <hr/>
                                        <!--<p id="total" style="width:100px;"></p>-->
                                        <input id="roll_button" type="button" value="Roll" onClick="start_rolling('turn_die1','turn_die2', '0')"/>
                                        <input id="end_turn_button" type="button" value="End Turn" onClick="end_turn(whose_turn_is_it)"/>
                                        <hr/>
                                </div>
                                <div id="controls">
                                        <div class="controls_button_space">
                                                <input type="button" class="control_button" value="Trade" id="trade_button"/>
                                        </div>
                                        <div class="controls_button_space">
                                                <input type="button" class="control_button" value="Mortgage" id="mortgage_button"/>
                                        </div>
                                        <div class="controls_button_space">
                                                <input type="button" class="control_button" value="Unmortgage" id="unmortgage_button"/>
                                        </div>
                                        <div class="controls_button_space">
                                                <input type="button" class="control_button" value="Build" id="build_button"/>
                                        </div>
                                </div>
                                <div class="inner_console" id="trade_console">
                                        <input type="button" class="exit_console" value="Back"/>
                                        <input type="button" class="finalise_selection" value="Done"/>
                                </div> 
                                <div class="inner_console" id="mortgage_console">
                                        <input type="button" class="exit_console" value="Back"/>
                                        <input type="button" class="finalise_selection" value="Done"/>
                                </div> 
                                <div class="inner_console" id="unmortgage_console">
                                        <input type="button" class="exit_console" value="Back"/>
                                        <input type="button" class="finalise_selection" value="Done"/>
                                </div> 
                                <div class="inner_console" id="build_console">
                                        <input type="button" class="exit_console" value="Back"/>
                                </div> 
                        </div>
                        <div class="locations-vert" id="right">
                                <div class="location_vert right green buyable" id="green1" style="margin-top:-15px;">
                                  <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Regent</font><br/><font size=1>$300</font></p> 
                                </div>
                                <div class="location_vert right green buyable" id="green2" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Oxford</font><br/><font size=1>$300</font></p> 
                                </div>
                                <div class="location_vert right communitychest" id="communitychest3" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="built_space_unused"></div><!--not used-->
                                        <div class="piece_space_1"></div>
                                       <!-- <p align="center"><font size=1>P. Road</font><br/><font size=1>$100</font></p> -->
                                </div>
                                 <div class="location_vert right green buyable" id="green3" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Bond</font><br/><font size=1>$320</font></p> 
                                </div>
                                <div class="location_vert right station buyable" id="station4" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="built_space_unused"></div><!--not used-->
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Liverpool</font><br/><font size=1>$200</font></p> 
                                </div>
                                <div class="location_vert right chance" id="chance3" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="built_space_unused"></div><!--not used-->
                                        <div class="piece_space_1"></div>
                                       <!-- <p align="center"><font size=1>P. Road</font><br/><font size=1>$100</font></p> -->
                                </div>
                                <div class="location_vert right blue buyable" id="blue1" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>P Lane</font><br/><font size=1>$350</font></p> 
                                </div>
                                <div class="location_vert right taxes" id="taxes2" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="built_space_unused"></div><!--not used-->
                                        <div class="piece_space_1"></div>
                                        <p align="center"><font size=1>Sup Tax</font><br/><font size=1>$200</font></p> 
                                </div>
                                <div class="location_vert right blue buyable" id="blue2" style="margin-top:-30px;">
                                        <div class="piece_space_2"></div>
                                        <div class="piece_space_3"></div>
                                        <div class="piece_space_4"></div>
                                        <div class="build_space"></div>
                                        <div class="piece_space_1"></div>
                                        <p class="name_price" align="center"><font size=1>Mayfair</font><br/><font size=1>$400</font></p> 
                                </div>
                        </div>
                        
                        <div style="clear:both"></div>
                </div>
                <div id="bottom" class="locations-hor" >
                        <div class="location_corner" id="jail">
                                <div class="piece_space_2 corner_margin_adjust_piece_spaces"></div>
                                <div class="piece_space_3 corner_margin_adjust_piece_spaces"></div>
                                <div class="piece_space_4 corner_margin_adjust_piece_spaces"></div>
                                <div class="built_space_unused"></div>
                                <div class="piece_space_1"></div>
                                <p style="margin-top:10px" align="center">Jail</p>
                        </div>
                        <div class="location lightblue buyable" id="lightblue3">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>P. Road</font><br/><font size=1>$120</font></p> 
                        </div>
                        <div class="location lightblue buyable" id="lightblue2">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>E. Road</font><br/><font size=1>$100</font></p> 
                        </div>                       
                        <div class="location chance" id="chance1">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="built_space_unused"></div><!--not used-->
                                <div class="piece_space_1"></div>
                               <!-- <p align="center"><font size=1>P. Road</font><br/><font size=1>$100</font></p> -->
                        </div>
                        <div class="location lightblue buyable" id="lightblue1">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Angel I.</font><br/><font size=1>$100</font></p> 
                        </div>
                        <div class="location station buyable" id="station1">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="built_space_unused"></div><!--not used-->
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>Kings</font><br/><font size=1>$200</font></p> 
                        </div>
                        <div class="location taxes" id="taxes1">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="built_space_unused"></div><!--not used-->
                                <div class="piece_space_1"></div>
                                <p align="center"><font size=1>Inc. Tax</font><br/><font size=1>$200</font></p> 
                        </div>
                        <div class="location brown buyable" id="brown2">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>WCR</font><br/><font size=1>$60</font></p> 
                        </div>
                        <div class="location communitychest" id="communitychest1">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="built_space_unused"></div><!--not used-->
                                <div class="piece_space_1"></div>
                               <!-- <p align="center"><font size=1>P. Road</font><br/><font size=1>$100</font></p> -->
                        </div>
                         <div class="location brown buyable" id="brown1">
                                <div class="piece_space_2"></div>
                                <div class="piece_space_3"></div>
                                <div class="piece_space_4"></div>
                                <div class="build_space"></div>
                                <div class="piece_space_1"></div>
                                <p class="name_price" align="center"><font size=1>OK Road</script></font><br/><font size=1>$60</font></p> 
                        </div>
                        <div class="location_corner" id="go">
                                <div class="piece_space_2 corner_margin_adjust_piece_spaces"></div>
                                <div class="piece_space_3 corner_margin_adjust_piece_spaces"></div>
                                <div class="piece_space_4 corner_margin_adjust_piece_spaces"></div>
                                <div class="built_space_unused"></div>
                                <div class="piece_space_1"></div>
                                <p style="margin-top:10px" align="center">Go</p> 
                        </div>                                       
                        <div style="clear:both"></div>
                </div> 
        </div>

        <div class="board_separator"></div>  
        <div class="players_space" id="players_right">
                <div class="player" id="p3">
                        <br>
                        <p>P3</p>
                        <hr>
                        <p class="player_names" id="p3_name"></p>
                        <hr>
                        <p id="p3_money">$1500</p>
                        <hr>
                        <p>Owned</p>
                        <br>
                        <table class="player_ownership" id="p3_ownership">
                                <tr><td><p style="text-align:left">Titles</p></td><td id="p3_titles"><p style="text-align:right">3</p></td></tr>
                                <tr><td><p style="text-align:left">Stations</p></td><td id="p3_stations"><p style="text-align:right">2</p></td></tr>
                                <tr><td><p style="text-align:left">Utilities</p></td><td id="p3_utilities"><p style="text-align:right">1</p></td></tr>
                        </table>                     
                </div>
                <hr/>
                <div class="player" id="p4">
                        <br>
                        <p>P4</p>
                        <hr>
                        <p class="player_names" id="p4_name"></p>
                        <hr>
                        <p id="p4_money">$1500</p>
                        <hr>
                        <p>Owned</p>
                        <br>
                        <table class="player_ownership" id="p4_ownership">
                                <tr><td><p style="text-align:left">Titles</p></td><td id="p4_titles"><p style="text-align:right">3</p></td></tr>
                                <tr><td><p style="text-align:left">Stations</p></td><td id="p4_stations"><p style="text-align:right">2</p></td></tr>
                                <tr><td><p style="text-align:left">Utilities</p></td><td id="p4_utilities"><p style="text-align:right">1</p></td></tr>
                        </table>                     
                </div>
        </div>      
</div>

</body>
</html>
